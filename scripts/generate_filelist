#!/bin/bash

set -e

function create_string_array()
{
    local name=$1
    shift

    echo "const char *filelist_$name[] = {"
    printf '\t"%s"\n' "$@"
    echo '};'
    echo "const int filelist_n$name = sizeof(filelist_$name)/sizeof(filelist_$name[0]);"
}

echo "// generated by $0"
echo '#include "../src/filelist.h"'

create_string_array players players/*.png
create_string_array sounds $(find sounds -name '*.wav')
