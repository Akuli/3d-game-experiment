#!/bin/bash

diff \
	<(find guard.png DejaVuSans.ttf sounds/ buttons/ enemies/ players/ -name '*.*' | sort) \
	<(printf '%s\n' $(
	   # this expands wildcards
		grep ': ' sources.txt | cut -d: -f1
	) | sort)

if [ $? -eq 0 ]; then
	echo "sources.txt is up to date"
	exit 0
fi

printf "\n\n********** Error: sources.txt seems to be outdated\n"
exit 1
